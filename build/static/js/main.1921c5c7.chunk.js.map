{"version":3,"sources":["estadoApp/contexto.js","componentes/DetalleCotizaciones.js","vistas/Cotizador.js","App.js","index.js"],"names":["contexto","React","createContext","ContextProvider","props","useState","contador","setContador","iniciarContador","console","log","setInterval","Math","floor","random","value","useMemo","Provider","useContexto","context","useContext","Error","DetalleCotizaciones","cotizaciones","length","className","obtenerPrecioSegunMoneda","moneda_a_cotizar","datos_moneda_a_cotizar","map","item","data","filter","moneda","precio","Cotizador","setCotizaciones","buscandoCotizaciones","setBuscandoCotizaciones","useEffect","a","Promise","all","Axios","get","vectorCotizaciones","alert","buscarCotizaciones","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2RAEMA,EAAWC,IAAMC,gBAEhB,SAASC,EAAgBC,GAAO,IAAD,EACHC,mBAAS,GADN,mBAC3BC,EAD2B,KAClBC,EADkB,KAG5BC,EAAkB,WACpBC,QAAQC,IAAI,0BACZC,aAAY,WACRJ,EAAYK,KAAKC,MAAsB,IAAhBD,KAAKE,aAC7B,MAGEC,EAAQC,mBAAQ,WACrB,MACI,CAACR,kBAAgBF,cAEvB,CAACA,IAEH,OAAO,cAACN,EAASiB,SAAV,aAAmBF,MAAOA,GAAWX,IAMzC,SAASc,IACZ,IAAMC,EAAUlB,IAAMmB,WAAWpB,GAEjC,IAAKmB,EACD,MAAM,IAAIE,MAAM,iEAElB,OAAOF,EC9BE,SAASG,EAAT,GAA6C,IAAfC,EAAc,EAAdA,aAEjC,OAA0B,GAAvBA,EAAaC,OACL,KAGJ,sBAAKC,UAAU,SAAf,UACH,sBAAMA,UAAU,SAAhB,mBACA,sBAAMA,UAAU,YAAhB,SAA6BC,EAAyBH,EAAa,WACnE,sBAAME,UAAU,SAAhB,kBACA,sBAAMA,UAAU,YAAhB,SAA6BC,EAAyBH,EAAa,UACnE,sBAAME,UAAU,SAAhB,kBACA,sBAAMA,UAAU,OAAhB,SAAwBC,EAAyBH,EAAa,aAK9E,SAASG,EAAyBH,EAAaI,GAE3C,IAAMC,EAAyBL,EACEM,KAAI,SAAAC,GAAI,OAAEA,EAAKC,QACfC,QAAO,SAAAF,GAAI,OAAEA,EAAKG,QAAQN,KAAkB,GAE7E,OAAIC,EACOA,EAAuBM,OAEvB,KCvBA,SAASC,IAAY,IAAD,EAEM9B,mBAAS,IAFf,mBAExBkB,EAFwB,KAEXa,EAFW,OAGsB/B,oBAAS,GAH/B,mBAGxBgC,EAHwB,KAGHC,EAHG,KAIxBhC,EAAUY,IAAVZ,SAyBP,OAvBAiC,qBAAU,YACkB,uCAAG,4BAAAC,EAAA,6DAEvBF,GAAwB,GAFD,kBAKcG,QAAQC,IAAI,CAACC,IAAMC,IAAI,qBACpBD,IAAMC,IAAI,oBACVD,IAAMC,IAAI,sBAP3B,OAKbC,EALa,OASnBT,EAAgBS,GAChBP,GAAwB,GAVL,gDAanBA,GAAwB,GACxBQ,MAAM,uDAda,yDAAH,qDAkBxBC,KAEF,CAACzC,IAEI,sBAAKmB,UAAU,SAAf,UACH,sBAAKA,UAAU,SAAf,UACI,sBAAMA,UAAU,SAAhB,0BACA,cAACH,EAAD,CAAqBC,aAAcA,OAGtCc,GAAwB,gECnCjC,SAASW,IAAO,IAETxC,EAAmBU,IAAnBV,gBAML,OAJF+B,qBAAU,WACR/B,MACA,IAGE,qBAAKiB,UAAU,MAAf,SACI,cAACU,EAAD,MAKO,wBACf,cAAChC,EAAD,UACI,cAAC,EAAD,OCjBJ8C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.1921c5c7.chunk.js","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\n\r\nconst contexto = React.createContext();\r\n\r\nexport function ContextProvider(props){\r\n    const [contador,setContador] = useState(0)\r\n\r\n    const iniciarContador = ()=>{\r\n        console.log('iniciando intervalo...')\r\n        setInterval(() => {\r\n            setContador(Math.floor(Math.random() * 100))\r\n        }, 5000)\r\n    }\r\n\r\n       const value = useMemo(()=>{\r\n        return (\r\n            {iniciarContador,contador}\r\n        )\r\n    },[contador])\r\n\r\n    return <contexto.Provider value={value} {...props}/>\r\n}\r\n\r\n// Para que los componentes puedan consumir este contexto hay que exportar un hook\r\n// para que se importe y se suscriba cada componente\r\n\r\nexport function useContexto(){ \r\n    const context = React.useContext(contexto)\r\n\r\n    if (!context){\r\n        throw new Error(\"useDataGlobal debe estar dentro del proveedor ContextProvider\")\r\n    } \r\n      return context; \r\n}\r\n\r\n","import React from 'react'\r\n\r\nexport default function DetalleCotizaciones({cotizaciones}){\r\n\r\n            if(cotizaciones.length == 0){\r\n                return null\r\n            } \r\n                \r\n            return <div className=\"centro\">\r\n                <span className=\"moneda\">Dolar</span>\r\n                <span className=\"ml-1 mr-4\">{obtenerPrecioSegunMoneda(cotizaciones,'dolar')}</span>\r\n                <span className=\"moneda\">Euro</span>\r\n                <span className=\"ml-1 mr-4\">{obtenerPrecioSegunMoneda(cotizaciones,'euro')}</span>\r\n                <span className=\"moneda\">Real</span>\r\n                <span className=\"ml-1\">{obtenerPrecioSegunMoneda(cotizaciones,'real')}</span>\r\n            </div>\r\n   \r\n}\r\n\r\nfunction obtenerPrecioSegunMoneda(cotizaciones,moneda_a_cotizar){\r\n\r\n    const datos_moneda_a_cotizar = cotizaciones\r\n                                    .map(item=>item.data)\r\n                                    .filter(item=>item.moneda==moneda_a_cotizar)[0]\r\n\r\n    if (datos_moneda_a_cotizar){\r\n        return datos_moneda_a_cotizar.precio\r\n    }else{\r\n        return null\r\n    }\r\n     \r\n}","import React, { useEffect, useState } from 'react'\r\nimport Axios from 'axios'\r\nimport {useContexto} from '../estadoApp/contexto'\r\nimport DetalleCotizaciones from '../componentes/DetalleCotizaciones'\r\n\r\nexport default function Cotizador(){\r\n\r\n    const [cotizaciones,setCotizaciones]=useState([])\r\n    const [buscandoCotizaciones,setBuscandoCotizaciones]=useState(false)\r\n    const {contador}=useContexto()\r\n\r\n    useEffect(()=>{\r\n        const buscarCotizaciones = async ()=>{\r\n\r\n            setBuscandoCotizaciones(true)\r\n\r\n            try{\r\n                const vectorCotizaciones = await Promise.all([Axios.get('/cotizacion/dolar'),\r\n                                                    Axios.get('/cotizacion/euro'),\r\n                                                    Axios.get('/cotizacion/real')])\r\n                \r\n                setCotizaciones(vectorCotizaciones)\r\n                setBuscandoCotizaciones(false)\r\n\r\n            }catch(err){\r\n                setBuscandoCotizaciones(false)\r\n                alert('Se produjo un error al buscar las cotizaciones' + err)\r\n            }\r\n        }\r\n\r\n        buscarCotizaciones()\r\n\r\n    },[contador])\r\n\r\n    return <div className=\"divext\">\r\n        <div className=\"divint\">\r\n            <span className=\"titulo\">Cotizaciones</span>\r\n            <DetalleCotizaciones cotizaciones={cotizaciones}/>\r\n        </div>\r\n\r\n        {buscandoCotizaciones && <p>Actualizando cotizaciones...</p>}\r\n\r\n    </div>\r\n}\r\n\r\n","import './App.css';\r\nimport Cotizador from './vistas/Cotizador';\r\nimport {ContextProvider, useContexto} from './estadoApp/contexto'\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nfunction App() {\r\n\r\nconst {iniciarContador} = useContexto()\r\n\r\nuseEffect(()=>{\r\n  iniciarContador()\r\n},[])\r\n\r\n  return (\r\n    <div className=\"App\">\r\n        <Cotizador/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ()=> \r\n<ContextProvider>  \r\n    <App></App>\r\n</ContextProvider>\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}